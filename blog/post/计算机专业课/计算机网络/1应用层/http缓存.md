对于重复的http请求, 可以将请求-响应都缓存在本地
- 一般是get缓存,post不缓存

缓存分成强制缓存和协商缓存

## 强制缓存

浏览器判断缓存是否过期, 浏览器主动
在响应界面, 如果是"from disk cache" 就是强制缓存

强制缓存由Cache-Control和Expires两个参数配置, 分别是相对和绝对时间, 其中Cache-Control优先级更高, 并且设置更精细好用

流程为:
- 第一次访问, 在resp中加上ccc, 设置过期时间大小
- 第二次访问, 先通过计算请求时间和过期时间, 判断是否过期, 然后决定是否访问
- 服务器每次再收到请求, 都会更新resp的cc

## 协商缓存

有时候会看到304重定向(使用缓存)

这就是服务端主动要求浏览器使用本地缓存

实现上可以基于If-Modified-Since和响应头的last-Modified实现
- 请求的时候带上一个时间戳, 服务端对比资源的上次更改时间, 如果可以用缓存, 就返回last-modified并响应304

另一种实现是If-None-Match和响应中的Etag
- 基于唯一标识
- 也就是每次请求返回都带Etag, 后面请求就带上这个Etag, 如果这个标识对应资源没变, 就返回304

Etag优先级高于基于时间的Last-modified
- last-modified是秒级的, 不精准
- 服务器判断文件修改, 获取具体时间, 都可能不准确
