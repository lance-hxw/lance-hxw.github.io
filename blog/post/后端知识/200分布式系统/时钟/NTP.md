network time protocol 网络时间协议, 用于在分布式计算机网络中同步各个节点的时钟的协议.

# 发展背景
- 目的: 在不可靠网络中, 将各个主机的系统时钟同步到utc
- 历史: 80s开始, 现在NTPv4广泛使用
# 架构和分层
ntp基于分层结构组织时间源, 越底层, 约接近真实时间
- stratum0: GPS接收机, 原子钟, 射频信号接收器等, 不联网, 通过stratum1获取
- stratum1: 直接获取原始数据, 作为网络上的最底层时间服务器
- stratum2: 从网络访问stratum1获取时间并同步
- stratum2-15, 都是向下一层访问, 获取时间并同步
- 超过15层就认为不是同步

# 同步算法
- 四角测算
- marzullo 交叠计算
# 同步模式
- cs结构
- broadcast结构
- 对等同步