# lucene segments
- 写操作先进入内存中的indexing buffer，生成倒排索引，doc values等
- 达到阈值或者手动flush时，将内存中的数据刷成一个不可变的segment
- 后台根据merge policy，将多个小的segment合并成大的segment
## 查询流程
在多个segment同时查倒排索引，按docID聚合返回即可
### 查询优化
压缩和跳跃索引优化，使用跳跃指针实现快速定位
## 合并策略
可以自定义
