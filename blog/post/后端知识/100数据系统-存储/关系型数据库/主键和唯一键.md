# 主键设置
- 唯一且不空的字段
- 字段最好递增，如果无序，可能页分裂
- 不要用业务数据，不知道会不会未来需要业务数据重复/重用
- 最好用自增id
	- 如果分布式，需要分布式自增id设计
	- 自增id优点：
		- 高效利用磁盘
		- 高效利用缓存
		- 减少页分裂和碎片
		- 如果用超长uuid，还会额外消耗内存。
## 页分裂问题
在B树类型的索引结构中，当一个数据页中被插入数据，且页面满了，就需要页分裂
页分裂后需要调整索引，如果大量插入，严重影响性能
此外，页分裂还会导致大量碎片
解决：
- 合理页面大小
- 延迟分裂，减少分裂次数
- 批量插入优化，减少分裂次数
## 页面缓存问题
如果主键无序， 连续插入时，innodb还是无法找到缓存中的页，需要先读写磁盘，再插入，进行大量io

# Compound Primary Key
两个或者多个列组成主键约束
- 唯一性约束，组合后必须唯一
- 非空，所有列都不能空
- 会创建主索引


# Compound Unique Key
两个或多个组成唯一约束
- 唯一性约束
- 允许空， 除非指定非空
	- 原理是，null不等于另一个null
	- 但是有null就当不了主索引了
	- 但是可以当二级索引
- 会创建二级索引，除非被当作主索引

# uuid, 雪花算法, 分布式主键和分布式表
