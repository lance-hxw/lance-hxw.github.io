提供api给执行器, 负责实际数据存储, 默认的存储引擎是innoDB
可以在建立表时指定存储引擎:
```sql
create table t_name (
...
)ENGINE=INNODB;
show engines; # 支持哪些引擎
```

- InnoDB: 如果应用对事物的完整性有比较高的要求，在并发条件下要求数据的一致性，数据操作除了插入和查询之外，还包含很多的更新、删除操作，则 InnoDB 是比较合适的选择
- MyISAM: 如果应用是以读操作和插入操作为主，只有很少的更新和删除操作，并且对事务的完整性、并发性要求不高，那这个存储引擎是非常合适的。
- Memory: 将所有数据保存在内存中，访问速度快，通常用于临时表及缓存。Memory 的缺陷是对表的大小有限制，太大的表无法缓存在内存中，而且无法保障数据的安全性
## innoDB
上限是64T B
- 批量插入比较慢, 内存空间占用大, 使用b+树索引, 支持全文索引(5.6后)
高可用高性能, 在mysql5.5后, innodb变成了默认的引擎
- 其DML操作支持事务ACID
- 有行级别锁, 可以提升并发性能
- 支持外键约束, 保证数据完整和正确
**InnoDB中，如果你不设置主键， 他会默认生成一个隐藏6位主键**，这东西主要是用来作为聚簇索引的主键，或者当外键引用。不过不能显示用于关系或者索引用于加速。
### 文件形式: 
包括三个文件
- db.opt: 数据库默认字符集和字符校验规则
- .frm/sdi, 每个表的表结构，一表一个
- ibd，多表 共享或者独享一个数据文件， 现在默认独享


每个表对应一个xxx.ibd表空间文件, 存储表结构(frm,sdi), 数据和索引
- frm和sdi是新老两种表结构文件, 保持同步, 为了兼容同时存在
- 但是可以被innodb_per_file_table变量控制是否是一表一文件,还是共享空间
可以用ibd2sdi xxx.ibd提取表结构
![[Pasted image 20241218213617.png]]
## MyISAM: 非聚簇索引
mysql早期默认存储引擎
不支持事务,不支持外键
只支持表锁不支持行锁
访问速度快

使用了非聚簇索引， 无论什么索引中都存的数据的引用
文件: sdi, myd(数据), myi(索引)

## Memory
表数据是存在内存中的, 只能当缓存用, 用hash索引， 不支持全文索引
只使用sdi文件存储表结构文件

