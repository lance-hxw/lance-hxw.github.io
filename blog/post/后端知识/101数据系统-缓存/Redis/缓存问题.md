# 缓存穿透 Cache Penetration
指查询一个不存在的数据， 缓存中没有， 就直接访问到数据库了，然后数据库持续扫表。
## 场景
- 恶意攻击，请求不存在的数据
- 业务代码错误
## 解决
- 空值缓存， 对查询到的是null， 在缓存中标记
	- 这种设置短过期时间，平衡性能和一致性
- 布隆过滤器， 不会将有判断成空,所以没错误
- 降级（默认数据，限流，队列化）
# 缓存击穿 Cache Breakdown
热点数据的缓存失效， 大量请求同时进入数据库
## 场景：
- 秒杀场景中一个商品缓存过期
- 热门新闻的缓存过期
## 解决：
- 互斥锁， 对数据库双重检查+互斥锁，获取后更新数据
- 永不过期
# 缓存雪崩 Cache avalanche
大量缓存同时失效，导致大量请求进入数据库
## 场景
- 大量缓存用了相同的过期时间
- redis直接挂了
## 解决：
- 随机过期时间
- HA 缓存
	- redis集群或者哨兵模式
- 熔断降级